:root{
  --bg:#0b0b0c; --bg2:#111215; --card:#141519;
  --ink:#f3f4f6; --ink2:#a1a1aa; --line:#1e2026; --btn:#1a1c21;
  --p1:#59e1ff; --p2:#86ffa8; --danger:#ff6b6b;
  --r:14px; --pad:14px; --tap:44px; --shadow:0 10px 30px rgba(0,0,0,.35);
}
[data-theme="light"]{
  --bg:#f6f7fb; --bg2:#ffffff; --card:#ffffff;
  --ink:#0f1115; --ink2:#5b5f6a; --line:#e9ebf0; --btn:#f0f3f7;
  --p1:#007aff; --p2:#16a34a; --shadow:0 10px 24px rgba(0,0,0,.12);
}

*{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
html,body{ height:100%; }
body{
  margin:0; color:var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, "Helvetica Neue", Arial;
  background:
    radial-gradient(800px 500px at 10% -10%, rgba(89,225,255,.12), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg2));
  padding: env(safe-area-inset-top) var(--pad) env(safe-area-inset-bottom);
}

/* subtle mode tints */
body[data-mode="timer"]{
  background:
    radial-gradient(800px 500px at 90% -10%, rgba(134,255,168,.12), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg2));
}
body[data-mode="stopwatch"]{
  background:
    radial-gradient(800px 500px at 10% 110%, rgba(89,225,255,.12), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg2));
}
body[data-mode="weather"]{
  background:
    radial-gradient(800px 500px at 90% 110%, rgba(134,255,168,.12), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg2));
}

.app{ min-height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom)); display:flex; flex-direction:column; gap:12px; }
.header,.footer{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px 0; }

.brand{ display:flex; align-items:center; gap:10px; }
.logo{
  width:28px; height:28px; border-radius:8px;
  background: conic-gradient(from 140deg, var(--p1), var(--p2));
  display:grid; place-items:center; color:#041013; font-weight:700; font-size:14px;
}
.wordmark{ font-weight:700; letter-spacing:.2px; }
.subtle{ color:var(--ink2); font-size:12px; margin-top:2px; }
.toolbar .btn span{ font-size:14px; }

.stage{
  flex:1; display:grid; place-items:stretch;
  background:var(--card); border-radius:16px; border:1px solid var(--line); box-shadow:var(--shadow);
  padding:16px;
}
.mode{ opacity:0; transform:translateY(6px); pointer-events:none; transition:opacity .18s ease, transform .18s ease; }
.mode.active{ opacity:1; transform:none; pointer-events:auto; }

.row{ display:flex; gap:10px; align-items:center; }
.col{ display:flex; flex-direction:column; gap:10px; }
.center{ align-items:center; justify-content:center; }
.wrap{ flex-wrap:wrap; }
.mt{ margin-top:10px; }
.hidden{ display:none !important; }
.icon{ width:20px; height:20px; display:inline-block; }

.big{ font-variant-numeric: tabular-nums; text-align:center; font-size: clamp(40px, 12vw, 74px); letter-spacing:.4px; }
.k{ font-variant-numeric: tabular-nums; }

.input,.btn{
  min-height:var(--tap); padding:12px 14px; border-radius:12px;
  border:1px solid var(--line); background:var(--btn); color:var(--ink);
  font:inherit; outline:none;
}
.input::placeholder{ color:var(--ink2); }
.btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; box-shadow: inset 0 1px 0 rgba(255,255,255,.05); }
.btn:active{ transform: translateY(1px); }
.btn.primary{ background: linear-gradient(90deg, var(--p1), var(--p2)); border:none; color:#041013; }
.btn.ghost{ background: transparent; border:1px dashed var(--line); color:var(--ink2); }
.btn.danger{ background: linear-gradient(90deg, var(--danger), #ff9a8b); border:none; color:#1a0f0f; }

.note{ color:var(--ink2); font-size:12px; text-align:center; }
.chip{ padding:6px 10px; border-radius:999px; background:var(--btn); border:1px solid var(--line); color:var(--ink2); }

/* weather */
.grid{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; width:100%; margin-top:8px; }
.stat{ background:var(--btn); border:1px solid var(--line); border-radius:12px; padding:12px; display:flex; flex-direction:column; align-items:center; gap:4px; }

/* overlay */
.overlay{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,.48); padding:20px; z-index:50; }
.overlay .card{ width:100%; max-width:520px; background:var(--card); border:1px solid var(--line); border-radius:16px; box-shadow:var(--shadow); padding:16px; text-align:center; }
.overlay.show{ display:flex; }

/* focus */
:where(button,input){ outline:none; }
:where(button:focus-visible,input:focus-visible){ box-shadow: 0 0 0 2px rgba(255,255,255,.12), 0 0 0 4px rgba(89,225,255,.35); }

@media (prefers-reduced-motion: reduce){ .mode{ transition:none; } }
